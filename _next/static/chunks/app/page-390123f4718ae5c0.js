(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{41234:()=>{},85453:(e,t,n)=>{Promise.resolve().then(n.bind(n,57801))},57801:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var l=n(95155),a=n(12115),s=n(29118),i=n(15255),r=n(12800),o=n(66963),u=n(40798),d=n(27112),c=n(8710);let p=[{x:2,y:2,z:0},{x:100,y:100,z:1}],h=e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){var a,s,i;return(0,l.jsxs)("div",{style:{backgroundColor:"white",padding:"5px 10px",border:"1px solid #ccc"},children:[(0,l.jsx)("p",{children:"x: ".concat(null===(a=n[0].value)||void 0===a?void 0:a.toFixed(5))}),(0,l.jsx)("p",{children:"y: ".concat(null===(s=n[1].value)||void 0===s?void 0:s.toFixed(5))}),(0,l.jsx)("p",{children:"mass: ".concat(null===(i=n[2].value)||void 0===i?void 0:i.toFixed(5))})]})}return null},x=e=>{let{distribution1:t,distribution2:n,bounds:x,width:g,height:_}=e,[m,y]=(0,a.useState)(!1),[f,v]=(0,a.useState)([]),[b,j]=(0,a.useState)([]);return((0,a.useEffect)(()=>{y(!0),v(p.concat((t.points||[]).map((e,n)=>({x:e.x,y:e.y,z:t.weights[n]||0})))),j(p.concat(((null==n?void 0:n.points)||[]).map((e,t)=>({x:e.x,y:e.y,z:(null==n?void 0:n.weights[t])||0}))))},[t,n]),m)?(0,l.jsxs)(s.t,{width:g,height:_,margin:{top:20,right:20,bottom:20,left:20},children:[(0,l.jsx)(i.d,{}),(0,l.jsx)(r.W,{type:"number",dataKey:"x",domain:[x.xMin,x.xMax],allowDataOverflow:!0}),(0,l.jsx)(o.h,{type:"number",dataKey:"y",domain:[x.yMin,x.yMax],allowDataOverflow:!0}),(0,l.jsx)(u.K,{dataKey:"z",range:[100,100*t.points.length],zAxisId:1}),(0,l.jsx)(u.K,{dataKey:"z",range:[100,100*t.points.length],zAxisId:2}),(0,l.jsx)(d.m,{content:(0,l.jsx)(h,{})}),(0,l.jsx)(c.X,{name:"Distribution 1",data:f,fill:"#8884d8",fillOpacity:.4,shape:"circle",zAxisId:1}),n&&(0,l.jsx)(c.X,{name:"Distribution 2",data:b,fill:"#E57373",fillOpacity:.6,shape:"circle",zAxisId:2})]}):null};var g=n(39567),_=n.n(g);let m=(e,t)=>e.x>=t.xMin&&e.x<=t.xMax&&e.y>=t.yMin&&e.y<=t.yMax,y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t+n*Math.sqrt(-2*Math.log(e()))*Math.cos(2*Math.PI*e())},f=(e,t,n)=>{let l=_()(e),a=[];for(let e=0;e<t;e++)a.push({x:n.xMin+l()*(n.xMax-n.xMin),y:n.yMin+l()*(n.yMax-n.yMin)});return{points:a,weights:Array(t).fill(1/t)}},v=(e,t,n,l,a)=>{let s=_()(e),i=[];for(;i.length<t;){let e={x:y(s,n.x,l),y:y(s,n.y,l)};m(e,a)&&i.push(e)}return{points:i,weights:Array(t).fill(1/t)}},b=(e,t,n,l)=>{let a=_()(e),s=[];for(let e=0;e<t;e++){let e=2*a()*Math.PI,t=l*Math.sqrt(a());s.push({x:n.x+t*Math.cos(e),y:n.y+t*Math.sin(e)})}return{points:s,weights:Array(t).fill(1/t)}};var j=n(83572),M=n.n(j);let N=(e,t,n)=>{let l=n.length,a=Array(l);for(let e=0;e<l;e++){a[e]=Array(l);for(let n=0;n<l;n++)a[e][n]=t(e,n)}let s=Array(l).fill(0);for(let e=0;e<l;e++)s[e]=n.reduce((t,n,l)=>t+n*a[l][e],0);let i=Number.POSITIVE_INFINITY,r=-1;for(let e=0;e<l;e++)s[e]<i&&(i=s[e],r=e);let o=[r],u=new Set(Array.from({length:l},(e,t)=>t));for(u.delete(r);o.length<e;){let e=o[o.length-1];for(let t of u){let n=a[t][e],l=a[t];for(let e of u)l[e]=Math.min(l[e],n)}for(let e of u)s[e]=Array.from(u).reduce((t,l)=>t+n[l]*a[l][e],0);let t=-1,l=Number.POSITIVE_INFINITY;for(let e of u)s[e]<l&&(l=s[e],t=e);o.push(t),M()(u.delete(t))}return o},I=(e,t,n)=>{let l=n.length,a=e.length,s=e.map(e=>n[e]),i=new Set(e);for(let r=0;r<l;r++)if(!i.has(r)){let l=Number.POSITIVE_INFINITY,i=-1;for(let n=0;n<a;n++){let a=t(r,e[n]);a<l&&(l=a,i=n)}s[i]+=n[r]}return s},C={points:[],weights:[]};var w=n(68334),S=n.n(w);let F={xMin:0,xMax:1,yMin:0,yMax:1},A=(e,t,n)=>{switch(e){case"uniform":return f(t,n,F);case"gaussian":return v(t,n,{x:.5,y:.5},.3,F);case"circular":return b(t,n,{x:.5,y:.5},.5)}},P=e=>(t,n)=>{let l=e[t],a=e[n];return Math.sqrt((l.x-a.x)**2+(l.y-a.y)**2)},z=()=>{let[e,t]=(0,a.useState)(50),[n,s]=(0,a.useState)("42"),[i,r]=(0,a.useState)("uniform"),[o,u]=(0,a.useState)(C),[d,c]=(0,a.useState)([]),[p,h]=(0,a.useState)(C),[g,_]=(0,a.useState)(0),[m,y]=(0,a.useState)(!1),f=(0,a.useCallback)(()=>{let t=A(i,n,e);u(t),c(N(t.points.length,P(t.points),t.weights)),_(0),y(!1),h(C)},[n,i,e]),v=(0,a.useCallback)(e=>{if(0===e||!o.points.length)return C;let t=d.slice(0,e),n=I(t,P(o.points),o.weights);return{points:t.map(e=>o.points[e]),weights:n}},[o,d]);return(0,a.useEffect)(()=>{h(v(g))},[g,v]),(0,a.useEffect)(()=>{if(!m||!o.points.length)return;let e=setInterval(()=>{_(e=>e>=d.length?(y(!1),e):e+1)},500);return()=>clearInterval(e)},[m,d.length,o.points.length]),(0,l.jsx)("div",{className:S().page,children:(0,l.jsxs)("main",{className:S().main,children:[(0,l.jsx)("h1",{children:"Scenario Reduction"}),(0,l.jsxs)("div",{className:S().controlsContainer,children:[(0,l.jsxs)("div",{className:S().topControls,children:[(0,l.jsxs)("div",{className:S().pointsInput,children:[(0,l.jsx)("label",{htmlFor:"numberOfPoints",children:"N:"}),(0,l.jsx)("input",{type:"number",id:"numberOfPoints",value:e,onChange:e=>t(Number(e.target.value)),min:"10",max:"1000",className:S().numberField})]}),(0,l.jsxs)("div",{className:S().seedInput,children:[(0,l.jsx)("label",{htmlFor:"seed",children:"Seed:"}),(0,l.jsx)("input",{type:"text",id:"seed",value:n,onChange:e=>s(e.target.value),className:S().seedField})]}),(0,l.jsxs)("div",{className:S().distributionSelect,children:[(0,l.jsx)("label",{htmlFor:"distribution-type",children:"Base Distribution:"}),(0,l.jsxs)("select",{id:"distribution-type",value:i,onChange:e=>r(e.target.value),className:S().distributionField,children:[(0,l.jsx)("option",{value:"uniform",children:"Uniform"}),(0,l.jsx)("option",{value:"gaussian",children:"Gaussian"}),(0,l.jsx)("option",{value:"circular",children:"Circular Uniform"})]})]}),(0,l.jsx)("button",{onClick:f,className:S().generateButton,children:"Generate"})]}),o.points.length>0&&(0,l.jsxs)("div",{className:S().playControls,children:[(0,l.jsx)("button",{onClick:()=>{g>=d.length&&_(0),y(e=>!e)},className:S().playButton,children:m?"Pause":"Play"}),(0,l.jsxs)("div",{className:S().sliderContainer,children:[(0,l.jsx)("input",{type:"range",min:"0",max:d.length,value:g,onChange:e=>{_(Number(e.target.value)),y(!1)},className:S().slider}),(0,l.jsxs)("span",{className:S().stepCount,children:[g,"/",d.length]})]})]})]}),(0,l.jsxs)("div",{className:S().currentVisualization,children:[(0,l.jsxs)("h3",{children:["Using ",g," point(s)"]}),(0,l.jsx)(x,{distribution1:o,distribution2:p,bounds:{xMin:0,xMax:1,yMin:0,yMax:1},width:600,height:600})]})]})})};function B(){return(0,l.jsx)(z,{})}},68334:e=>{e.exports={page:"page_page__ZU32B",main:"page_main__GlU4n",ctas:"page_ctas__g5wGe",primary:"page_primary__V8M9Y",secondary:"page_secondary__lm_PT",footer:"page_footer__sHKi3",seedInput:"page_seedInput__MwBpR",seedField:"page_seedField__n5xVl",pointsInput:"page_pointsInput__wnFBr",numberField:"page_numberField__vIebA",controls:"page_controls__MGrPX",generateButton:"page_generateButton__brATS",playButton:"page_playButton__egZrD",distributionSelect:"page_distributionSelect__KyIMJ",distributionField:"page_distributionField__IHZpc",sliderContainer:"page_sliderContainer__9hu_f",slider:"page_slider__ByN4U",stepCount:"page_stepCount___uJaP",controlsContainer:"page_controlsContainer__ygMcm",topControls:"page_topControls__2nMnR",playControls:"page_playControls__pjrgY",logo:"page_logo__7fc9l"}}},e=>{var t=t=>e(e.s=t);e.O(0,[397,571,441,517,358],()=>t(85453)),_N_E=e.O()}]);